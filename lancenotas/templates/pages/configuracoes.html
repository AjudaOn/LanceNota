{% extends "layouts/app.html" %}

{% block title %}Configurações — LanceNotas{% endblock %}

{% block content %}
  <h1 class="text-2xl font-semibold text-gray-900">Configurações</h1>

  <div class="mt-6 bg-white border border-gray-200 rounded-xl p-4">
    <h2 class="text-lg font-semibold text-gray-900">Ano letivo</h2>
    <p class="text-sm text-gray-600 mt-1">
      Selecione o ano letivo atual. As telas (turmas, dashboard, horário) mostram apenas os dados do ano escolhido.
    </p>

    <form method="post" action="{{ url_for('pages.configuracoes_set_ano_letivo') }}" class="mt-4 flex flex-col md:flex-row gap-3 md:items-end">
      <input type="hidden" name="next" value="{{ request.full_path or request.path }}" />
      <div class="w-full md:w-56">
        <label class="block text-xs font-medium text-gray-700">Ano letivo</label>
        <select name="ano_letivo" class="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 bg-white">
          {% set selected = selected_ano_letivo or 2026 %}
          {% for y in (available_anos_letivos or [selected]) %}
            <option value="{{ y }}" {% if y == selected %}selected{% endif %}>{{ y }}</option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg px-4 py-2">
        Salvar
      </button>
    </form>
  </div>
{% endblock %}
